{"openapi":"3.0.0","info":{"title":"SSHF API","version":"1.0.0","description":"API for managing veterans documents with Google authentication"},"servers":[{"url":"https://sshf-api-330507742215.us-central1.run.app","description":"API Server"},{"url":"http://localhost:8080","description":"Force local API Server"},{"url":"https://sshf-api-330507742215.us-central1.run.app","description":"Force Dev Environment API Server"}],"components":{"securitySchemes":{"GoogleAuth":{"type":"oauth2","flows":{"implicit":{"authorizationUrl":"https://accounts.google.com/o/oauth2/v2/auth","scopes":{"openid":"OpenID Connect scope","email":"Email scope","profile":"Profile scope","https://www.googleapis.com/auth/admin.directory.group.readonly":"Group Read Only Scope"}}},"x-clientId":"330507742215-scerc6p0lvou59tufmohq1b7b4bj0l90.apps.googleusercontent.com","x-init":{"clientId":"330507742215-scerc6p0lvou59tufmohq1b7b4bj0l90.apps.googleusercontent.com","appName":"SSHF API"}}},"schemas":{"SearchRequest":{"type":"object","properties":{"limit":{"type":"integer","default":25,"description":"Maximum number of results to return"},"lastname":{"type":"string","default":"","description":"Last name to search for"},"status":{"type":"string","default":"Active","enum":["All","Active","Flown","Deceased","Removed","Future-Spring","Future-Fall","Future-PostRestriction"],"description":"Status filter for the search"},"flight":{"type":"string","default":"All","description":"Flight ID filter for the search"}}},"SearchResult":{"type":"object","properties":{"type":{"type":"string","description":"Type of the document"},"name":{"type":"string","description":"Name of the person"},"city":{"type":"string","description":"City of residence"},"appdate":{"type":"string","description":"Application date"},"flight":{"type":"string","description":"Flight assignment"},"status":{"type":"string","description":"Current status"},"pairing":{"type":"string","description":"Name of paired person"},"pairingId":{"type":"string","description":"ID of paired person"}}},"SearchResults":{"type":"object","properties":{"total_rows":{"type":"integer","description":"Total number of rows in the result set"},"offset":{"type":"integer","description":"Starting offset of the result set"},"rows":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Document ID"},"key":{"type":"array","items":{"type":"string"},"description":"Search key used for this result"},"value":{"$ref":"#/components/schemas/SearchResult"}}}}}},"Error":{"type":"object","properties":{"message":{"type":"string"}}},"Veteran":{"type":"object","required":["name","type","address"],"properties":{"_id":{"type":"string","description":"Document ID"},"_rev":{"type":"string","description":"Document revision"},"type":{"type":"string","enum":["Veteran"],"description":"Document type, must be \"Veteran\""},"name":{"type":"object","required":["first","last"],"properties":{"first":{"type":"string","pattern":"^[a-zA-Z'. ]{2,}$","description":"First name (letters, periods, apostrophes and spaces only, min 2 chars)"},"middle":{"type":"string","pattern":"^[a-zA-Z' ]*$","description":"Middle name (letters, apostrophes and spaces only)"},"last":{"type":"string","pattern":"^[a-zA-Z'. -]{2,}$","description":"Last name (letters, periods, apostrophes, hyphens and spaces only, min 2 chars)"},"nickname":{"type":"string","pattern":"^[a-zA-Z'. ]*$","description":"Nickname (letters, periods, apostrophes and spaces only)"}}},"birth_date":{"type":"string"},"gender":{"type":"string","enum":["M","F"],"description":"Veteran gender"},"address":{"type":"object","required":["street","city","state","zip","county","phone_day"],"properties":{"street":{"type":"string","pattern":"^[a-zA-Z0-9.,# /-]{2,}$","description":"Street address (letters, numbers, basic punctuation, min 2 chars)"},"city":{"type":"string","pattern":"^[a-zA-Z. -]{2,}$","description":"City name (letters, periods, hyphens and spaces only, min 2 chars)"},"state":{"type":"string","pattern":"^[a-zA-Z]{2}$","description":"State code (exactly 2 letters)"},"zip":{"type":"string","pattern":"^[0-9 -]{5,}$","description":"ZIP code (at least 5 digits)"},"county":{"type":"string","pattern":"^[a-zA-Z. ]{2,}$","description":"County name (letters, periods and spaces only, min 2 chars)"},"phone_day":{"type":"string","pattern":"^[0-9 -]{12,}$","description":"Day phone (at least 12 digits/characters)"},"phone_eve":{"type":"string","pattern":"^[0-9 -]*$","description":"Evening phone (numbers, spaces and hyphens only)"},"phone_mbl":{"type":"string","pattern":"^[0-9 -]*$","description":"Mobile phone (numbers, spaces and hyphens only)"},"email":{"type":"string","format":"email","description":"Email address"}}},"service":{"type":"object","properties":{"branch":{"type":"string","enum":["Unknown","Army","Air Force","Navy","Marines","Coast Guard"],"description":"Military branch of service"},"rank":{"type":"string","pattern":"^[a-zA-Z0-9.,# /-]*$","description":"Military rank (letters, numbers, basic punctuation)"},"dates":{"type":"string"},"activity":{"type":"string"}}},"flight":{"type":"object","properties":{"id":{"type":"string","default":"None","description":"Flight ID"},"status":{"type":"string","enum":["All","Active","Flown","Deceased","Removed","Future-Spring","Future-Fall","Future-PostRestriction"],"default":"Active","description":"Current flight status"},"group":{"type":"string"},"bus":{"type":"string","default":"None","enum":["None","Alpha1","Alpha2","Alpha3","Alpha4","Alpha5","Bravo1","Bravo2","Bravo3","Bravo4","Bravo5"],"description":"Assigned bus"},"seat":{"type":"string"},"confirmed_date":{"type":"string"},"confirmed_by":{"type":"string"},"status_note":{"type":"string"},"history":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"date-time","description":"Timestamp of the change"},"change":{"type":"string","description":"Description of what changed"}}},"description":"History of changes to flight"}}},"medical":{"type":"object","properties":{"form":{"type":"boolean","default":false},"release":{"type":"boolean","default":false},"level":{"type":"string","enum":["1","2","3","3.5","4"],"description":"Medical level"},"limitations":{"type":"string"},"food_restriction":{"type":"string","enum":["None","Gluten Free","Vegetarian","Vegan"],"default":"None","description":"Dietary restrictions"},"usesCane":{"type":"boolean","default":false},"usesWalker":{"type":"boolean","default":false},"usesWheelchair":{"type":"boolean","default":false},"usesScooter":{"type":"boolean","default":false},"requiresOxygen":{"type":"boolean","default":false},"isWheelchairBound":{"type":"boolean","default":false},"alt_level":{"type":"string","enum":["1","2","3","3.5","4"],"description":"Alternative medical level"},"examRequired":{"type":"boolean","default":false},"review":{"type":"string"}}},"guardian":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"pref_notes":{"type":"string"},"history":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"date-time","description":"Timestamp of the change"},"change":{"type":"string","description":"Description of what changed"}}},"description":"History of changes to guardian pairing"}}},"app_date":{"type":"string"},"vet_type":{"type":"string","default":"WWII","enum":["WWII","Korea","Vietnam","Afghanistan","Iraq","Other"],"description":"Type of veteran/war conflict served"},"shirt":{"type":"object","properties":{"size":{"type":"string","default":"None","enum":["None","S","M","L","XL","2XL","3XL","4XL","5XL"]}}},"metadata":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"created_by":{"type":"string"},"updated_at":{"type":"string","format":"date-time"},"updated_by":{"type":"string"}}},"weight":{"type":"string","pattern":"^\\d{1,3}$","description":"Weight in pounds (1-999) (Obsolete)"},"alt_contact":{"type":"object","properties":{"name":{"type":"string","pattern":"^[a-zA-Z'. -]{2,}$","description":"Alternate contact name"},"relation":{"type":"string"},"address":{"type":"object","properties":{"street":{"type":"string","pattern":"^[a-zA-Z0-9.,# /-]{2,}$","description":"Street address (letters, numbers, basic punctuation, min 2 chars)"},"city":{"type":"string","pattern":"^[a-zA-Z. -]{2,}$","description":"City name (letters, periods, hyphens and spaces only, min 2 chars)"},"state":{"type":"string","pattern":"^[a-zA-Z]{2}$","description":"State code (exactly 2 letters)"},"zip":{"type":"string","pattern":"^[0-9 -]{5,}$","description":"ZIP code (at least 5 digits)"},"county":{"type":"string","pattern":"^[a-zA-Z. ]{2,}$","description":"County name (letters, periods and spaces only, min 2 chars)"},"phone_day":{"type":"string","pattern":"^[0-9 -]{12,}$","description":"Day phone (at least 12 digits/characters)"},"phone_eve":{"type":"string","pattern":"^[0-9 -]*$","description":"Evening phone (numbers, spaces and hyphens only)"},"phone_mbl":{"type":"string","pattern":"^[0-9 -]*$","description":"Mobile phone (numbers, spaces and hyphens only)"},"email":{"type":"string","format":"email","description":"Email address"}}}}},"emerg_contact":{"type":"object","properties":{"name":{"type":"string","pattern":"^[a-zA-Z'. -]{2,}$","description":"Emergency contact name"},"relation":{"type":"string"},"address":{"type":"object","properties":{"street":{"type":"string","pattern":"^[a-zA-Z0-9.,# /-]{2,}$","description":"Street address (letters, numbers, basic punctuation, min 2 chars)"},"city":{"type":"string","pattern":"^[a-zA-Z. -]{2,}$","description":"City name (letters, periods, hyphens and spaces only, min 2 chars)"},"state":{"type":"string","pattern":"^[a-zA-Z]{2}$","description":"State code (exactly 2 letters)"},"zip":{"type":"string","pattern":"^[0-9 -]{5,}$","description":"ZIP code (at least 5 digits)"},"county":{"type":"string","pattern":"^[a-zA-Z. ]{2,}$","description":"County name (letters, periods and spaces only, min 2 chars)"},"phone_day":{"type":"string","pattern":"^[0-9 -]{12,}$","description":"Day phone (at least 12 digits/characters)"},"phone_eve":{"type":"string","pattern":"^[0-9 -]*$","description":"Evening phone (numbers, spaces and hyphens only)"},"phone_mbl":{"type":"string","pattern":"^[0-9 -]*$","description":"Mobile phone (numbers, spaces and hyphens only)"},"email":{"type":"string","format":"email","description":"Email address"}}}}},"mail_call":{"type":"object","properties":{"received":{"type":"string"},"name":{"type":"string","pattern":"^[a-zA-Z'. -]{2,}$"},"notes":{"type":"string"},"adopt":{"type":"string"},"relation":{"type":"string"},"address":{"type":"object","properties":{"phone":{"type":"string","pattern":"^[0-9 -]{12,}$"},"email":{"type":"string","format":"email"}}}}},"media_interview_ok":{"type":"string","enum":["Yes","No","Unknown"],"default":"Unknown"},"media_newspaper_ok":{"type":"string","enum":["Yes","No","Unknown"],"default":"Unknown"},"apparel":{"type":"object","properties":{"item":{"type":"string","enum":["None","Jacket","Polo","Both"],"default":"None","description":"Type of apparel items ordered"},"jacket_size":{"type":"string","default":"None","enum":["None","XS","S","M","L","XL","2XL","3XL","4XL","5XL"]},"shirt_size":{"type":"string","default":"None","enum":["None","WXS","WS","WM","WL","WXL","W2XL","W3XL","W4XL","W5XL","XS","S","M","L","XL","2XL","3XL","4XL","5XL"]},"delivery":{"type":"string","default":"None","enum":["None","Mailed","Pickup","Delivered"]},"notes":{"type":"string"},"date":{"type":"string"},"by":{"type":"string"}}},"call":{"type":"object","properties":{"fm_number":{"type":"string","description":"Family Member number (obsolete)"},"notes":{"type":"string"},"email_sent":{"type":"boolean","default":false,"description":"Whether email has been sent"},"assigned_to":{"type":"string","description":"VET member assigned to call"},"mail_sent":{"type":"boolean","default":false,"description":"Whether mail has been sent"},"history":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"date-time","description":"Timestamp of the change"},"change":{"type":"string","description":"Description of what changed"}}},"description":"History of changes to call status"}}}}},"Guardian":{"type":"object","required":["name","type","address"],"properties":{"_id":{"type":"string","description":"Document ID"},"_rev":{"type":"string","description":"Document revision"},"type":{"type":"string","enum":["Guardian"],"description":"Document type, must be \"Guardian\""},"name":{"type":"object","required":["first","last"],"properties":{"first":{"type":"string","pattern":"^[a-zA-Z'. ]{2,}$","description":"First name (letters, periods, apostrophes and spaces only, min 2 chars)"},"middle":{"type":"string","pattern":"^[a-zA-Z' ]*$","description":"Middle name (letters, apostrophes and spaces only)"},"last":{"type":"string","pattern":"^[a-zA-Z'. -]{2,}$","description":"Last name (letters, periods, apostrophes, hyphens and spaces only, min 2 chars)"},"nickname":{"type":"string","pattern":"^[a-zA-Z'. ]*$","description":"Nickname (letters, periods, apostrophes and spaces only)"}}},"birth_date":{"type":"string","pattern":"^\\d{4}-\\d{2}-\\d{2}$","description":"Birth date in YYYY-MM-DD format"},"gender":{"type":"string","enum":["M","F"],"default":"M","description":"Guardian gender"},"address":{"type":"object","required":["street","city","state","zip","county","phone_day"],"properties":{"street":{"type":"string","pattern":"^[a-zA-Z0-9.,# /-]{2,}$","description":"Street address (letters, numbers, basic punctuation, min 2 chars)"},"city":{"type":"string","pattern":"^[a-zA-Z. -]{2,}$","description":"City name (letters, periods, hyphens and spaces only, min 2 chars)"},"state":{"type":"string","pattern":"^[a-zA-Z]{2}$","description":"State code (exactly 2 letters)"},"zip":{"type":"string","pattern":"^[0-9 -]{5,}$","description":"ZIP code (at least 5 digits)"},"county":{"type":"string","pattern":"^[a-zA-Z. ]{2,}$","description":"County name (letters, periods and spaces only, min 2 chars)"},"phone_day":{"type":"string","pattern":"^[0-9 -]{12,}$","description":"Day phone (at least 12 digits/characters)"},"phone_eve":{"type":"string","pattern":"^[0-9 -]*$","description":"Evening phone (numbers, spaces and hyphens only)"},"phone_mbl":{"type":"string","pattern":"^[0-9 -]*$","description":"Mobile phone (numbers, spaces and hyphens only)"},"email":{"type":"string","format":"email","description":"Email address"}}},"flight":{"type":"object","properties":{"id":{"type":"string","default":"None","description":"Flight ID"},"status":{"type":"string","enum":["Active","Flown","Deceased","Removed","Future-Spring","Future-Fall","Future-PostRestriction","Copied"],"default":"Active","description":"Current flight status"},"group":{"type":"string","description":"Flight group"},"bus":{"type":"string","default":"None","enum":["None","Alpha1","Alpha2","Alpha3","Alpha4","Alpha5","Bravo1","Bravo2","Bravo3","Bravo4","Bravo5"],"description":"Assigned bus"},"seat":{"type":"string","description":"Assigned seat"},"confirmed_date":{"type":"string","description":"Date the flight was confirmed"},"confirmed_by":{"type":"string","description":"Person who confirmed the flight"},"status_note":{"type":"string","description":"Notes about flight status"},"history":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"date-time","description":"Timestamp of the change"},"change":{"type":"string","description":"Description of what changed"}}},"description":"History of changes to flight"},"nofly":{"type":"boolean","default":false,"description":"Indicates guardian is not flying"},"vaccinated":{"type":"boolean","default":false,"description":"Indicates guardian is vaccinated"},"mediaWaiver":{"type":"boolean","default":false,"description":"Indicates media waiver is received"},"infection_test":{"type":"boolean","default":false,"description":"Indicates infection test is completed"},"waiver":{"type":"boolean","default":false,"description":"Indicates liability waiver is received"},"training":{"type":"string","enum":["None","Main","Previous","Phone","Web","Make-up"],"description":"Type of training completed"},"training_notes":{"type":"string","description":"Notes about guardian training"},"training_see_doc":{"type":"boolean","default":false,"description":"Indicates guardian needs to see a doctor at training"},"training_complete":{"type":"boolean","default":false,"description":"Indicates guardian has completed training"},"paid":{"type":"boolean","default":false,"description":"Indicates guardian has paid"},"exempt":{"type":"boolean","default":false,"description":"Indicates guardian is exempt from payment"},"booksOrdered":{"type":"integer","default":0,"description":"Number of books ordered"}}},"medical":{"type":"object","properties":{"form":{"type":"boolean","default":false,"description":"Indicates medical form is received"},"release":{"type":"boolean","default":false,"description":"Indicates medical release is received"},"level":{"type":"string","pattern":"^[A-D]$","description":"Medical level (A, B, C, or D)"},"limitations":{"type":"string","description":"Medical limitations"},"food_restriction":{"type":"string","enum":["None","Gluten Free","Vegetarian","Vegan"],"default":"None","description":"Dietary restrictions"},"experience":{"type":"string","description":"Medical experience"},"can_push":{"type":"boolean","default":false,"description":"Indicates guardian can push a wheelchair"},"can_lift":{"type":"boolean","default":false,"description":"Indicates guardian can lift 100 pounds"}}},"veteran":{"type":"object","properties":{"pref_notes":{"type":"string","description":"Veteran preference notes"},"history":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"date-time","description":"Timestamp of the change"},"change":{"type":"string","description":"Description of what changed"}}},"description":"History of veteran assignments"},"pairings":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Veteran ID"},"name":{"type":"string","description":"Veteran name"}}},"description":"Paired veterans"}}},"app_date":{"type":"string","description":"Application date"},"shirt":{"type":"object","properties":{"size":{"type":"string","default":"None","enum":["None","S","M","L","XL","2XL","3XL","4XL","5XL"],"description":"Shirt size"}}},"metadata":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time","description":"Creation timestamp"},"created_by":{"type":"string","description":"User who created the record"},"updated_at":{"type":"string","format":"date-time","description":"Last update timestamp"},"updated_by":{"type":"string","description":"User who last updated the record"}}},"weight":{"type":"string","pattern":"^\\d{1,3}$","description":"Weight in pounds (60-450)"},"emerg_contact":{"type":"object","properties":{"name":{"type":"string","pattern":"^[a-zA-Z'. -]{2,}$","description":"Emergency contact name"},"relation":{"type":"string","description":"Relationship to guardian"},"address":{"type":"object","properties":{"phone":{"type":"string","pattern":"^[0-9 -]{12,}$","description":"Emergency contact phone"},"email":{"type":"string","format":"email","description":"Emergency contact email"}}}}},"notes":{"type":"object","properties":{"other":{"type":"string","description":"Other notes"},"service":{"type":"string","enum":["Y","N"],"default":"N","description":"Indicates if guardian is a veteran"}}},"occupation":{"type":"string","description":"Guardian occupation"},"accommodations":{"type":"object","properties":{"departure_time":{"type":"string","description":"Departure time"},"arrival_date":{"type":"string","description":"Arrival date"},"notes":{"type":"string","description":"Accommodation notes"},"departure_date":{"type":"string","description":"Departure date"},"arrival_flight":{"type":"string","description":"Arrival flight information"},"attend_banquette":{"type":"string","description":"Banquet attendance"},"departure_flight":{"type":"string","description":"Departure flight information"},"arrival_time":{"type":"string","description":"Arrival time"},"banquette_guest":{"type":"string","description":"Banquet guest information"},"room_type":{"type":"string","enum":["None","Double","Single"],"default":"None","description":"Hotel room type"},"hotel_name":{"type":"string","description":"Hotel name"}}},"mail_call":{"type":"object","properties":{"received":{"type":"string","description":"Date mail call was received"},"name":{"type":"string","pattern":"^[a-zA-Z'. -]{2,}$","description":"Mail call contact name"},"notes":{"type":"string","description":"Mail call notes"},"relation":{"type":"string","description":"Relation to guardian"},"address":{"type":"object","properties":{"phone":{"type":"string","pattern":"^[0-9 -]{12,}$","description":"Mail call phone"},"email":{"type":"string","format":"email","description":"Mail call email"}}}}},"call":{"type":"object","properties":{"fm_number":{"type":"string","description":"Family Member number"},"notes":{"type":"string","description":"Call notes"},"email_sent":{"type":"boolean","default":false,"description":"Indicates if email has been sent"},"assigned_to":{"type":"string","description":"Staff member assigned to call"},"mail_sent":{"type":"boolean","default":false,"description":"Indicates if mail has been sent"},"history":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"date-time","description":"Timestamp of the change"},"change":{"type":"string","description":"Description of what changed"}}},"description":"History of call status changes"}}},"apparel":{"type":"object","properties":{"jacket_size":{"type":"string","default":"None","enum":["None","XS","S","M","L","XL","2XL","3XL","4XL","5XL"],"description":"Jacket size"},"notes":{"type":"string","description":"Apparel notes"},"delivery":{"type":"string","default":"None","enum":["None","Mailed","Training","Home"],"description":"Delivery method"},"item":{"type":"string","default":"None","enum":["None","Jacket","Polo","Both"],"description":"Apparel items"},"shirt_size":{"type":"string","default":"None","enum":["None","WXS","WS","WM","WL","WXL","W2XL","W3XL","W4XL","W5XL","XS","S","M","L","XL","2XL","3XL","4XL","5XL"],"description":"Shirt size"},"date":{"type":"string","description":"Date apparel was sent"},"by":{"type":"string","description":"Person who sent the apparel"}}}}}}},"security":[{"GoogleAuth":["openid","email","profile"]}],"paths":{"/guardians":{"post":{"summary":"Create a new guardian record","tags":["Guardians"],"security":[{"GoogleAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guardian"}}}},"responses":{"201":{"description":"Guardian record created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guardian"}}}},"400":{"description":"Invalid guardian data","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"401":{"description":"Unauthorized"},"500":{"description":"Server error"}}}},"/guardians/{id}":{"get":{"summary":"Retrieve a guardian record by ID","tags":["Guardians"],"security":[{"GoogleAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Guardian record ID"}],"responses":{"200":{"description":"Guardian record retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guardian"}}}},"400":{"description":"Document is not a guardian record"},"401":{"description":"Unauthorized"},"404":{"description":"Guardian not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update a guardian record","tags":["Guardians"],"security":[{"GoogleAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Guardian record ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guardian"}}}},"responses":{"200":{"description":"Guardian record updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Guardian"}}}},"400":{"description":"Invalid guardian data or document is not a guardian record"},"401":{"description":"Unauthorized"},"404":{"description":"Guardian not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a guardian record","tags":["Guardians"],"security":[{"GoogleAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Guardian record ID"}],"responses":{"200":{"description":"Guardian record deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"ok":{"type":"boolean"},"id":{"type":"string"},"rev":{"type":"string"}}}}}},"400":{"description":"Document is not a guardian record"},"401":{"description":"Unauthorized"},"404":{"description":"Guardian not found"},"500":{"description":"Server error"}}}},"/search":{"get":{"summary":"Search for veterans and guardians","description":"Searches for veterans and guardians based on provided criteria.\nThe search can be filtered by status or flight, but not both simultaneously.\nIf status is not 'All', flight filter will be ignored.\n","tags":["Search"],"security":[{"GoogleAuth":[]}],"parameters":[{"in":"query","name":"limit","schema":{"type":"integer","default":25},"description":"Maximum number of results to return"},{"in":"query","name":"lastname","schema":{"type":"string"},"description":"Last name to search for (partial match)"},{"in":"query","name":"status","schema":{"type":"string","enum":["All","Active","Flown","Deceased","Removed","Future-Spring","Future-Fall","Future-PostRestriction"],"default":"Active"},"description":"Status filter for the search"},{"in":"query","name":"flight","schema":{"type":"string","default":"All"},"description":"Flight ID filter for the search (ignored if status is not 'All')"}],"responses":{"200":{"description":"Search completed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResults"},"example":{"total_rows":2,"offset":0,"rows":[{"id":"doc1","key":["Active","Smith"],"value":{"type":"Veteran","name":"John Smith","city":"Chicago","appdate":"2024-01-15","flight":"F23","status":"Active","pairing":"Jane Doe","pairingId":"guard1"}}]}}}},"401":{"description":"Unauthorized"},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/veterans":{"post":{"summary":"Create a new veteran record","tags":["Veterans"],"security":[{"GoogleAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Veteran"}}}},"responses":{"201":{"description":"Veteran record created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Veteran"}}}},"400":{"description":"Invalid veteran data","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"401":{"description":"Unauthorized"},"500":{"description":"Server error"}}}},"/veterans/{id}":{"get":{"summary":"Retrieve a veteran record by ID","tags":["Veterans"],"security":[{"GoogleAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Veteran record ID"}],"responses":{"200":{"description":"Veteran record retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Veteran"}}}},"400":{"description":"Document is not a veteran record"},"401":{"description":"Unauthorized"},"404":{"description":"Veteran not found"},"500":{"description":"Server error"}}},"put":{"summary":"Update a veteran record","tags":["Veterans"],"security":[{"GoogleAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Veteran record ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Veteran"}}}},"responses":{"200":{"description":"Veteran record updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Veteran"}}}},"400":{"description":"Invalid veteran data or document is not a veteran record"},"401":{"description":"Unauthorized"},"404":{"description":"Veteran not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a veteran record","tags":["Veterans"],"security":[{"GoogleAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Veteran record ID"}],"responses":{"200":{"description":"Veteran record deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"ok":{"type":"boolean"},"id":{"type":"string"},"rev":{"type":"string"}}}}}},"400":{"description":"Document is not a veteran record"},"401":{"description":"Unauthorized"},"404":{"description":"Veteran not found"},"500":{"description":"Server error"}}}}},"tags":[]}